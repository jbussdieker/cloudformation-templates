{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Metadata": {
    "AWS::CloudFormation::Designer": {
      "e36d068f-d99d-4764-9e2b-c12964177c7c": {
        "size": {
          "width": 720,
          "height": 620
        },
        "position": {
          "x": 355,
          "y": 26
        },
        "z": 0,
        "embeds": [
          "26c7bcf2-9250-4bd4-928d-6fae5a4a6ba1",
          "387281f1-6c4e-419b-b533-327f29e5d364",
          "80c51d65-e182-4ded-9e9a-ff6c77b4ced2",
          "3680c2ff-80db-4bf5-933b-975e802073b3"
        ]
      },
      "b19c75c1-2a36-4c0b-a0d5-3271168b22a6": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 220,
          "y": 60
        },
        "z": 0,
        "embeds": []
      },
      "b474148f-8e7b-480d-859a-92ccd154685e": {
        "source": {
          "id": "b19c75c1-2a36-4c0b-a0d5-3271168b22a6"
        },
        "target": {
          "id": "e36d068f-d99d-4764-9e2b-c12964177c7c"
        },
        "z": 0
      },
      "3680c2ff-80db-4bf5-933b-975e802073b3": {
        "size": {
          "width": 280,
          "height": 300
        },
        "position": {
          "x": 600,
          "y": 70
        },
        "z": 1,
        "parent": "e36d068f-d99d-4764-9e2b-c12964177c7c",
        "embeds": [
          "c7696ff7-b5c8-4798-9e85-ffd99f9fc0c8"
        ]
      },
      "17df92a4-b0a2-42bc-9a5c-a018116de5e1": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 230,
          "y": 220
        },
        "z": 0,
        "embeds": []
      },
      "86455998-ccf6-4892-99dc-fd5cd23b1eac": {
        "source": {
          "id": "17df92a4-b0a2-42bc-9a5c-a018116de5e1"
        },
        "target": {
          "id": "e36d068f-d99d-4764-9e2b-c12964177c7c"
        },
        "z": 0
      },
      "80c51d65-e182-4ded-9e9a-ff6c77b4ced2": {
        "size": {
          "width": 140,
          "height": 140
        },
        "position": {
          "x": 400,
          "y": 70
        },
        "z": 1,
        "parent": "e36d068f-d99d-4764-9e2b-c12964177c7c",
        "embeds": [
          "4db4eccc-b153-4a42-93bb-cd9c15e3b834"
        ]
      },
      "ea5d7ebb-7b78-4cb6-82f4-6ea8e86bb099": {
        "source": {
          "id": "80c51d65-e182-4ded-9e9a-ff6c77b4ced2"
        },
        "target": {
          "id": "3680c2ff-80db-4bf5-933b-975e802073b3"
        },
        "z": 1
      },
      "4db4eccc-b153-4a42-93bb-cd9c15e3b834": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 439.1409151719784,
          "y": 105.51420148940693
        },
        "z": 2,
        "parent": "80c51d65-e182-4ded-9e9a-ff6c77b4ced2",
        "embeds": [],
        "references": [
          "b19c75c1-2a36-4c0b-a0d5-3271168b22a6"
        ]
      },
      "78992dc7-cff8-4f9d-a2db-2b9ac5fad3a8": {
        "source": {
          "id": "4db4eccc-b153-4a42-93bb-cd9c15e3b834"
        },
        "target": {
          "id": "b19c75c1-2a36-4c0b-a0d5-3271168b22a6"
        },
        "z": 3
      },
      "c7696ff7-b5c8-4798-9e85-ffd99f9fc0c8": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 780,
          "y": 110
        },
        "z": 2,
        "parent": "3680c2ff-80db-4bf5-933b-975e802073b3",
        "embeds": [],
        "ismemberof": [
          "387281f1-6c4e-419b-b533-327f29e5d364"
        ]
      },
      "387281f1-6c4e-419b-b533-327f29e5d364": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 910,
          "y": 110
        },
        "z": 1,
        "parent": "e36d068f-d99d-4764-9e2b-c12964177c7c",
        "embeds": []
      },
      "5ca4bd96-016c-4538-a7dd-628d47b932b3": {
        "source": {
          "id": "c7696ff7-b5c8-4798-9e85-ffd99f9fc0c8"
        },
        "target": {
          "id": "387281f1-6c4e-419b-b533-327f29e5d364"
        },
        "z": 3
      },
      "26c7bcf2-9250-4bd4-928d-6fae5a4a6ba1": {
        "size": {
          "width": 140,
          "height": 190
        },
        "position": {
          "x": 400,
          "y": 250
        },
        "z": 1,
        "parent": "e36d068f-d99d-4764-9e2b-c12964177c7c",
        "embeds": [
          "a8fa5bc0-0eb2-4068-96fa-ab1eff3670ef",
          "a3eed766-5e79-4288-8502-85080d17b1f4"
        ]
      },
      "a0e8de13-8b67-4e33-a5a4-17a15b9b9550": {
        "source": {
          "id": "26c7bcf2-9250-4bd4-928d-6fae5a4a6ba1"
        },
        "target": {
          "id": "3680c2ff-80db-4bf5-933b-975e802073b3"
        },
        "z": 1
      },
      "a3eed766-5e79-4288-8502-85080d17b1f4": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 440,
          "y": 280
        },
        "z": 2,
        "parent": "26c7bcf2-9250-4bd4-928d-6fae5a4a6ba1",
        "embeds": []
      },
      "a8fa5bc0-0eb2-4068-96fa-ab1eff3670ef": {
        "size": {
          "width": 60,
          "height": 60
        },
        "position": {
          "x": 440,
          "y": 350
        },
        "z": 2,
        "parent": "26c7bcf2-9250-4bd4-928d-6fae5a4a6ba1",
        "embeds": []
      }
    }
  },
  "Resources": {
    "VPC3GLWZ": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": "10.0.0.0/16",
        "EnableDnsSupport": "true",
        "EnableDnsHostnames": "true"
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "e36d068f-d99d-4764-9e2b-c12964177c7c"
        }
      }
    },
    "IGW376WA": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {},
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "b19c75c1-2a36-4c0b-a0d5-3271168b22a6"
        }
      }
    },
    "VGWA28D4Y": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "InternetGatewayId": {
          "Ref": "IGW376WA"
        },
        "VpcId": {
          "Ref": "VPC3GLWZ"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "b474148f-8e7b-480d-859a-92ccd154685e"
        }
      }
    },
    "SUBZ5OJ": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "10.0.0.0/24",
        "VpcId": {
          "Ref": "VPC3GLWZ"
        },
        "MapPublicIpOnLaunch": "true"
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "3680c2ff-80db-4bf5-933b-975e802073b3"
        }
      }
    },
    "DHCPAJST": {
      "Type": "AWS::EC2::DHCPOptions",
      "Properties": {
        "DomainName": "example.com",
        "DomainNameServers": [
          "AmazonProvidedDNS"
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "17df92a4-b0a2-42bc-9a5c-a018116de5e1"
        }
      }
    },
    "VDHCPA102IW": {
      "Type": "AWS::EC2::VPCDHCPOptionsAssociation",
      "Properties": {
        "DhcpOptionsId": {
          "Ref": "DHCPAJST"
        },
        "VpcId": {
          "Ref": "VPC3GLWZ"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "86455998-ccf6-4892-99dc-fd5cd23b1eac"
        }
      }
    },
    "RT28H0H": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPC3GLWZ"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "80c51d65-e182-4ded-9e9a-ff6c77b4ced2"
        }
      }
    },
    "SUBRTE4GR00": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "RT28H0H"
        },
        "SubnetId": {
          "Ref": "SUBZ5OJ"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "ea5d7ebb-7b78-4cb6-82f4-6ea8e86bb099"
        }
      }
    },
    "RTE52VNU": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "DestinationCidrBlock": "0.0.0.0/0",
        "RouteTableId": {
          "Ref": "RT28H0H"
        },
        "GatewayId": {
          "Ref": "IGW376WA"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "4db4eccc-b153-4a42-93bb-cd9c15e3b834"
        }
      }
    },
    "I41J8R": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "SubnetId": {
          "Ref": "SUBZ5OJ"
        },
        "SecurityGroupIds": [
          {
            "Ref": "SG1O1K1"
          }
        ],
        "ImageId": "ami-56ea8636",
        "KeyName": "jbussdieker",
        "UserData": {
          "Fn::Base64": {
            "Fn::Join": [
              "",
              [
                "#!/bin/bash -xe\n",
                "yum update -y aws-cfn-bootstrap\n",
                "# Install the files and packages from the metadata\n",
                "/opt/aws/bin/cfn-init -v ",
                "         --stack ",
                {
                  "Ref": "AWS::StackName"
                },
                "         --resource I41J8R ",
                "         --configsets Install ",
                "         --region ",
                {
                  "Ref": "AWS::Region"
                },
                "\n"
              ]
            ]
          }
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "c7696ff7-b5c8-4798-9e85-ffd99f9fc0c8"
        }
      }
    },
    "SG1O1K1": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "main",
        "VpcId": {
          "Ref": "VPC3GLWZ"
        },
        "SecurityGroupIngress": [
          {
            "CidrIp": "0.0.0.0/0",
            "IpProtocol": "tcp",
            "FromPort": "22",
            "ToPort": "22"
          }
        ]
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "387281f1-6c4e-419b-b533-327f29e5d364"
        }
      }
    },
    "NACLAFM1": {
      "Type": "AWS::EC2::NetworkAcl",
      "Properties": {
        "VpcId": {
          "Ref": "VPC3GLWZ"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "26c7bcf2-9250-4bd4-928d-6fae5a4a6ba1"
        }
      }
    },
    "SUBNACL4EPCR": {
      "Type": "AWS::EC2::SubnetNetworkAclAssociation",
      "Properties": {
        "NetworkAclId": {
          "Ref": "NACLAFM1"
        },
        "SubnetId": {
          "Ref": "SUBZ5OJ"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "a0e8de13-8b67-4e33-a5a4-17a15b9b9550"
        }
      }
    },
    "4VZ9C": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "RuleNumber": "100",
        "CidrBlock": "0.0.0.0/0",
        "Egress": "true",
        "Protocol": "-1",
        "RuleAction": "allow",
        "NetworkAclId": {
          "Ref": "NACLAFM1"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "a3eed766-5e79-4288-8502-85080d17b1f4"
        }
      }
    },
    "4X1HT": {
      "Type": "AWS::EC2::NetworkAclEntry",
      "Properties": {
        "RuleNumber": "100",
        "CidrBlock": "0.0.0.0/0",
        "Egress": "false",
        "Protocol": "-1",
        "RuleAction": "allow",
        "NetworkAclId": {
          "Ref": "NACLAFM1"
        }
      },
      "Metadata": {
        "AWS::CloudFormation::Designer": {
          "id": "a8fa5bc0-0eb2-4068-96fa-ab1eff3670ef"
        }
      }
    }
  }
}